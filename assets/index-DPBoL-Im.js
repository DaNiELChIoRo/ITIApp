import{r as l,a as V,R as X}from"./react-vendor-wGySg1uH.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=n(t);fetch(t.href,c)}})();var M={exports:{}},P={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=l,se=Symbol.for("react.element"),te=Symbol.for("react.fragment"),re=Object.prototype.hasOwnProperty,oe=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ne={key:!0,ref:!0,__self:!0,__source:!0};function D(o,s,n){var r,t={},c=null,i=null;n!==void 0&&(c=""+n),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)re.call(s,r)&&!ne.hasOwnProperty(r)&&(t[r]=s[r]);if(o&&o.defaultProps)for(r in s=o.defaultProps,s)t[r]===void 0&&(t[r]=s[r]);return{$$typeof:se,type:o,key:c,ref:i,props:t,_owner:oe.current}}P.Fragment=te;P.jsx=D;P.jsxs=D;M.exports=P;var e=M.exports,R={},_=V;R.createRoot=_.createRoot,R.hydrateRoot=_.hydrateRoot;const I=({children:o,className:s="",...n})=>e.jsx("div",{className:`card ${s}`,...n,children:o}),ae=(o,s)=>{const[n,r]=l.useState(()=>{try{const c=window.localStorage.getItem(o);return c?JSON.parse(c):s}catch(c){return console.error(`Error loading localStorage key "${o}":`,c),s}});return[n,c=>{try{const i=c instanceof Function?c(n):c;r(i),window.localStorage.setItem(o,JSON.stringify(i))}catch(i){console.error(`Error setting localStorage key "${o}":`,i)}}]},K=()=>{const[o,s]=ae("itiapp-stats",{totalAttempts:0,bestScore:0,averageScore:0,totalCorrect:0,lastAttemptDate:null}),n=l.useCallback(t=>{s(c=>{const i=c.totalAttempts+1,u=c.totalCorrect+t.correct,m=Math.round(u/(i*t.total)*100);return{totalAttempts:i,bestScore:Math.max(c.bestScore,t.percentage),averageScore:m,totalCorrect:u,lastAttemptDate:new Date().toISOString()}})},[s]),r=l.useCallback(()=>{s({totalAttempts:0,bestScore:0,averageScore:0,totalCorrect:0,lastAttemptDate:null})},[s]);return{stats:o,updateStats:n,resetStats:r}},A={en:{appName:"ITIApp",appSubtitle:"Bible Quiz",home:{welcomeTitle:"Old Testament Books",welcomeDescription:"Test your knowledge of the Old Testament! Choose a quiz mode below.",booksCount:"39 Books",unlimitedTime:"Unlimited Time",orderChallenge:"Order Challenge",startQuiz:"Start Quiz",yourProgress:"Your Progress",attempts:"Attempts",bestScore:"Best Score",average:"Average",footerText:"Learn the Bible one quiz at a time",selectQuizType:"Select Quiz Type",quizTypes:{order:{title:"Order the Books",description:"Arrange all 39 books in their correct biblical order",icon:"ðŸ“š"},complete:{title:"Complete the Names",description:"Books shown in order - type the full name from the first letters",icon:"âœï¸"}}},quiz:{title:"Order the Books",instruction:"Click the books in their correct biblical order",selected:"selected",undoLast:"Undo Last",resetAll:"Reset All",submitAnswer:"Submit Answer",confirmTitle:"Submit Your Answer?",confirmText:"Are you sure you want to submit? You have selected all {count} books.",goBack:"Go Back",yesSubmit:"Yes, Submit"},completeQuiz:{title:"Complete the Names",instruction:"Type the full book name for each hint",progress:"{completed} of {total} completed",placeholder:"Type book name...",skip:"Skip",check:"Check",next:"Next",correct:"Correct!",incorrect:"Incorrect",correctAnswer:"The answer was: {answer}",submitAll:"Submit Quiz",confirmTitle:"Submit Your Answers?",confirmText:"You have completed {completed} of {total} books. Submit now?",hint:"Hint: {hint}"},results:{title:"Quiz Complete!",noResults:"No results available",goHome:"Go Home",outOf:"{correct} out of {total} correct",correct:"Correct",incorrect:"Incorrect",yourAnswers:"Your Answers",yourAnswer:"Your answer:",correctAnswer:"Correct:",home:"Home",tryAgain:"Try Again"},scores:{perfect:"Perfect Score!",excellent:"Excellent!",great:"Great Job!",good:"Good Work!",notBad:"Not Bad!",keepPracticing:"Keep Practicing!",tryAgain:"Try Again!"},language:{select:"Language",en:"English",es:"Spanish"},books:{Genesis:"Genesis",Exodus:"Exodus",Leviticus:"Leviticus",Numbers:"Numbers",Deuteronomy:"Deuteronomy",Joshua:"Joshua",Judges:"Judges",Ruth:"Ruth","1 Samuel":"1 Samuel","2 Samuel":"2 Samuel","1 Kings":"1 Kings","2 Kings":"2 Kings","1 Chronicles":"1 Chronicles","2 Chronicles":"2 Chronicles",Ezra:"Ezra",Nehemiah:"Nehemiah",Esther:"Esther",Job:"Job",Psalms:"Psalms",Proverbs:"Proverbs",Ecclesiastes:"Ecclesiastes","Song of Solomon":"Song of Solomon",Isaiah:"Isaiah",Jeremiah:"Jeremiah",Lamentations:"Lamentations",Ezekiel:"Ezekiel",Daniel:"Daniel",Hosea:"Hosea",Joel:"Joel",Amos:"Amos",Obadiah:"Obadiah",Jonah:"Jonah",Micah:"Micah",Nahum:"Nahum",Habakkuk:"Habakkuk",Zephaniah:"Zephaniah",Haggai:"Haggai",Zechariah:"Zechariah",Malachi:"Malachi"}},es:{appName:"ITIApp",appSubtitle:"Quiz BÃ­blico",home:{welcomeTitle:"Libros del Antiguo Testamento",welcomeDescription:"Â¡Pon a prueba tu conocimiento del Antiguo Testamento! Elige un modo de quiz abajo.",booksCount:"39 Libros",unlimitedTime:"Tiempo Ilimitado",orderChallenge:"DesafÃ­o de Orden",startQuiz:"Comenzar Quiz",yourProgress:"Tu Progreso",attempts:"Intentos",bestScore:"Mejor Puntaje",average:"Promedio",footerText:"Aprende la Biblia un quiz a la vez",selectQuizType:"Selecciona el Tipo de Quiz",quizTypes:{order:{title:"Ordenar los Libros",description:"Ordena los 39 libros en su orden bÃ­blico correcto",icon:"ðŸ“š"},complete:{title:"Completar los Nombres",description:"Libros en orden - escribe el nombre completo desde las primeras letras",icon:"âœï¸"}}},quiz:{title:"Ordena los Libros",instruction:"Haz clic en los libros en su orden bÃ­blico correcto",selected:"seleccionados",undoLast:"Deshacer",resetAll:"Reiniciar",submitAnswer:"Enviar Respuesta",confirmTitle:"Â¿Enviar tu Respuesta?",confirmText:"Â¿EstÃ¡s seguro de que quieres enviar? Has seleccionado los {count} libros.",goBack:"Volver",yesSubmit:"SÃ­, Enviar"},completeQuiz:{title:"Completar los Nombres",instruction:"Escribe el nombre completo del libro para cada pista",progress:"{completed} de {total} completados",placeholder:"Escribe el nombre...",skip:"Saltar",check:"Verificar",next:"Siguiente",correct:"Â¡Correcto!",incorrect:"Incorrecto",correctAnswer:"La respuesta era: {answer}",submitAll:"Enviar Quiz",confirmTitle:"Â¿Enviar tus Respuestas?",confirmText:"Has completado {completed} de {total} libros. Â¿Enviar ahora?",hint:"Pista: {hint}"},results:{title:"Â¡Quiz Completado!",noResults:"No hay resultados disponibles",goHome:"Ir al Inicio",outOf:"{correct} de {total} correctos",correct:"Correctos",incorrect:"Incorrectos",yourAnswers:"Tus Respuestas",yourAnswer:"Tu respuesta:",correctAnswer:"Correcto:",home:"Inicio",tryAgain:"Intentar de Nuevo"},scores:{perfect:"Â¡Puntaje Perfecto!",excellent:"Â¡Excelente!",great:"Â¡Muy Bien!",good:"Â¡Buen Trabajo!",notBad:"Â¡Nada Mal!",keepPracticing:"Â¡Sigue Practicando!",tryAgain:"Â¡IntÃ©ntalo de Nuevo!"},language:{select:"Idioma",en:"InglÃ©s",es:"EspaÃ±ol"},books:{Genesis:"GÃ©nesis",Exodus:"Ã‰xodo",Leviticus:"LevÃ­tico",Numbers:"NÃºmeros",Deuteronomy:"Deuteronomio",Joshua:"JosuÃ©",Judges:"Jueces",Ruth:"Rut","1 Samuel":"1 Samuel","2 Samuel":"2 Samuel","1 Kings":"1 Reyes","2 Kings":"2 Reyes","1 Chronicles":"1 CrÃ³nicas","2 Chronicles":"2 CrÃ³nicas",Ezra:"Esdras",Nehemiah:"NehemÃ­as",Esther:"Ester",Job:"Job",Psalms:"Salmos",Proverbs:"Proverbios",Ecclesiastes:"EclesiastÃ©s","Song of Solomon":"Cantares",Isaiah:"IsaÃ­as",Jeremiah:"JeremÃ­as",Lamentations:"Lamentaciones",Ezekiel:"Ezequiel",Daniel:"Daniel",Hosea:"Oseas",Joel:"Joel",Amos:"AmÃ³s",Obadiah:"AbdÃ­as",Jonah:"JonÃ¡s",Micah:"Miqueas",Nahum:"NahÃºm",Habakkuk:"Habacuc",Zephaniah:"SofonÃ­as",Haggai:"Hageo",Zechariah:"ZacarÃ­as",Malachi:"MalaquÃ­as"}}},U=l.createContext(null),ce=()=>{var n;const o=localStorage.getItem("language");if(o&&A[o])return o;const s=(n=navigator.language)==null?void 0:n.split("-")[0];return s&&A[s]?s:"en"},ie=({children:o})=>{const[s,n]=l.useState(ce);l.useEffect(()=>{document.documentElement.lang=s},[s]);const r=l.useCallback(d=>{A[d]&&(n(d),localStorage.setItem("language",d))},[]),t=l.useCallback((d,h={})=>{const a=d.split(".");let p=A[s];for(const b of a)if(p&&typeof p=="object"&&b in p)p=p[b];else{p=A.en;for(const N of a)if(p&&typeof p=="object"&&N in p)p=p[N];else return d;break}return typeof p=="string"&&Object.keys(h).length>0?p.replace(/\{(\w+)\}/g,(b,N)=>h[N]!==void 0?h[N]:b):p||d},[s]),c=l.useCallback(d=>{var h,a;return((a=(h=A[s])==null?void 0:h.books)==null?void 0:a[d])||d},[s]),i=l.useCallback(d=>{var a;const h=((a=A[s])==null?void 0:a.scores)||A.en.scores;return d===100?h.perfect:d>=90?h.excellent:d>=80?h.great:d>=70?h.good:d>=60?h.notBad:d>=50?h.keepPracticing:h.tryAgain},[s]),u=l.useMemo(()=>Object.keys(A),[]),m=l.useMemo(()=>({language:s,setLanguage:r,t,translateBook:c,getScoreMessage:i,availableLanguages:u}),[s,r,t,c,i,u]);return e.jsx(U.Provider,{value:m,children:o})},q=()=>{const o=l.useContext(U);if(!o)throw new Error("useI18n must be used within an I18nProvider");return o},le=({onStartOrder:o,onStartComplete:s})=>{const{stats:n}=K(),{t:r}=q();return e.jsx("div",{className:"home-container",children:e.jsxs("div",{className:"home-content",children:[e.jsx("header",{className:"home-header",children:e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"logo",children:e.jsx("span",{className:"logo-icon",children:"ðŸ“–"})}),e.jsx("h1",{className:"app-title",children:r("appName")}),e.jsx("p",{className:"app-subtitle",children:r("appSubtitle")})]})}),e.jsxs(I,{className:"welcome-card",children:[e.jsx("h2",{className:"welcome-title",children:r("home.welcomeTitle")}),e.jsx("p",{className:"welcome-description",children:r("home.welcomeDescription")}),e.jsxs("div",{className:"quiz-info",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-icon",children:"ðŸ“š"}),e.jsx("span",{className:"info-text",children:r("home.booksCount")})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-icon",children:"â±ï¸"}),e.jsx("span",{className:"info-text",children:r("home.unlimitedTime")})]})]}),e.jsx("h3",{className:"quiz-type-title",children:r("home.selectQuizType")}),e.jsxs("div",{className:"quiz-types",children:[e.jsxs("button",{className:"quiz-type-card",onClick:o,children:[e.jsx("span",{className:"quiz-type-icon",children:r("home.quizTypes.order.icon")}),e.jsx("span",{className:"quiz-type-name",children:r("home.quizTypes.order.title")}),e.jsx("span",{className:"quiz-type-desc",children:r("home.quizTypes.order.description")})]}),e.jsxs("button",{className:"quiz-type-card",onClick:s,children:[e.jsx("span",{className:"quiz-type-icon",children:r("home.quizTypes.complete.icon")}),e.jsx("span",{className:"quiz-type-name",children:r("home.quizTypes.complete.title")}),e.jsx("span",{className:"quiz-type-desc",children:r("home.quizTypes.complete.description")})]})]})]}),n.totalAttempts>0&&e.jsxs(I,{className:"stats-card",children:[e.jsx("h3",{className:"stats-title",children:r("home.yourProgress")}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:n.totalAttempts}),e.jsx("div",{className:"stat-label",children:r("home.attempts")})]}),e.jsxs("div",{className:"stat-item",children:[e.jsxs("div",{className:"stat-value",children:[n.bestScore,"%"]}),e.jsx("div",{className:"stat-label",children:r("home.bestScore")})]}),e.jsxs("div",{className:"stat-item",children:[e.jsxs("div",{className:"stat-value",children:[n.averageScore,"%"]}),e.jsx("div",{className:"stat-label",children:r("home.average")})]})]})]}),e.jsx("footer",{className:"home-footer",children:e.jsx("p",{className:"footer-text",children:r("home.footerText")})})]})})},S=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"],ue=o=>{const s=[...o];for(let n=s.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[s[n],s[r]]=[s[r],s[n]]}return s},de=o=>o>=90?"#27AE60":o>=70?"#50C878":o>=50?"#F39C12":"#E74C3C",G=l.createContext(),me=({children:o})=>{const[s,n]=l.useState([]),[r,t]=l.useState([]),[c,i]=l.useState(!1),u=l.useCallback(()=>{n(ue([...S])),t([]),i(!0)},[]),m=l.useCallback(f=>{t(g=>[...g,f])},[]),d=l.useCallback(()=>{t(f=>f.slice(0,-1))},[]),h=l.useCallback(()=>{t([])},[]),a=l.useCallback(()=>{let f=0;r.forEach((j,z)=>{S[z]===j&&f++});const g=S.length,k=Math.round(f/g*100);return{correct:f,total:g,percentage:k,selections:r}},[r]),p=l.useCallback(f=>r.includes(f),[r]),b=l.useCallback(f=>{const g=r.indexOf(f);return g===-1?null:g+1},[r]),N={shuffledBooks:s,selectedBooks:r,isInitialized:c,initializeQuiz:u,selectBook:m,undoLastSelection:d,resetSelections:h,calculateScore:a,isBookSelected:p,getSelectionIndex:b};return e.jsx(G.Provider,{value:N,children:o})},he=()=>{const o=l.useContext(G);if(!o)throw new Error("useQuiz must be used within QuizProvider");return o},pe=({book:o,displayName:s,isSelected:n,selectionIndex:r,onClick:t})=>e.jsx("div",{className:`book-card ${n?"book-card-selected":""}`,onClick:t,role:"button",tabIndex:n?-1:0,onKeyPress:c=>{(c.key==="Enter"||c.key===" ")&&t()},"aria-pressed":n,children:e.jsxs("div",{className:"book-card-content",children:[e.jsx("span",{className:"book-name",children:s||o}),n&&e.jsx("div",{className:"selection-badge",children:r})]})}),W=({progress:o=0,color:s="#4A90E2"})=>{const n=Math.min(100,Math.max(0,o));return e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar-fill",style:{width:`${n}%`,backgroundColor:s}})})},C=({onClick:o,variant:s="primary",size:n="medium",disabled:r=!1,className:t="",children:c,...i})=>{const u=`button button-${s} button-${n} ${t}`;return e.jsx("button",{className:u,onClick:o,disabled:r,...i,children:c})},ge=({onComplete:o})=>{const{shuffledBooks:s,selectedBooks:n,isInitialized:r,initializeQuiz:t,selectBook:c,undoLastSelection:i,resetSelections:u,calculateScore:m,isBookSelected:d,getSelectionIndex:h}=he(),{t:a,translateBook:p}=q(),[b,N]=l.useState(!1);l.useEffect(()=>{r||t()},[r,t]);const f=v=>{d(v)||c(v)},g=()=>{n.length===s.length&&N(!0)},k=()=>{const v=m();o(v)},j=()=>{N(!1)},z=s.length>0?n.length/s.length*100:0,E=n.length===s.length;return e.jsxs("div",{className:"quiz-container",children:[e.jsxs("header",{className:"quiz-header",children:[e.jsx("h1",{className:"quiz-title",children:a("quiz.title")}),e.jsx("p",{className:"quiz-instruction",children:a("quiz.instruction")})]}),e.jsxs("div",{className:"quiz-progress",children:[e.jsx(W,{progress:z}),e.jsxs("div",{className:"progress-text",children:[n.length," / ",s.length," ",a("quiz.selected")]})]}),e.jsx("div",{className:"quiz-content",children:e.jsx("div",{className:"books-grid",children:s.map((v,L)=>e.jsx(pe,{book:v,displayName:p(v),isSelected:d(v),selectionIndex:h(v),onClick:()=>f(v)},`${v}-${L}`))})}),e.jsxs("div",{className:"quiz-actions",children:[e.jsx(C,{onClick:i,variant:"secondary",disabled:n.length===0,className:"action-button",children:a("quiz.undoLast")}),e.jsx(C,{onClick:u,variant:"secondary",disabled:n.length===0,className:"action-button",children:a("quiz.resetAll")}),e.jsx(C,{onClick:g,variant:"primary",disabled:!E,className:"action-button submit-button",children:a("quiz.submitAnswer")})]}),b&&e.jsx("div",{className:"confirmation-overlay",onClick:j,children:e.jsxs("div",{className:"confirmation-modal",onClick:v=>v.stopPropagation(),children:[e.jsx("h2",{className:"confirmation-title",children:a("quiz.confirmTitle")}),e.jsx("p",{className:"confirmation-text",children:a("quiz.confirmText",{count:s.length})}),e.jsxs("div",{className:"confirmation-actions",children:[e.jsx(C,{onClick:j,variant:"secondary",children:a("quiz.goBack")}),e.jsx(C,{onClick:k,variant:"primary",children:a("quiz.yesSubmit")})]})]})})]})},fe=(o,s)=>{const n=s||o;if(/^\d/.test(n)){const r=n.split(" ");if(r.length>1)return`${r[0]} ${r[1].charAt(0)}...`}return n.length<=4?`${n.charAt(0)}...`:`${n.substring(0,2)}...`},O=o=>o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),xe=({onComplete:o})=>{const{t:s,translateBook:n,language:r}=q(),[t,c]=l.useState(0),[i,u]=l.useState(""),[m,d]=l.useState(Array(S.length).fill(null)),[h,a]=l.useState(!1),[p,b]=l.useState(null),[N,f]=l.useState(!1),g=l.useRef(null),k=S[t],j=n(k),z=fe(k,j);l.useEffect(()=>{g.current&&!h&&g.current.focus()},[t,h]);const E=()=>{const x=O(i),w=O(j),T=O(k),y=x===w||x===T;b(y),a(!0);const B=[...m];B[t]={input:i,correct:y,correctAnswer:j},d(B)},v=()=>{t<S.length-1?(c(t+1),u(""),a(!1),b(null)):J()},L=()=>{const x=[...m];x[t]={input:"",correct:!1,correctAnswer:j,skipped:!0},d(x),t<S.length-1?(c(t+1),u(""),a(!1),b(null)):J()},Y=x=>{x.key==="Enter"&&(h?v():i.trim()&&E())},J=()=>{f(!0)},Z=()=>{const x=m.filter(y=>y==null?void 0:y.correct).length,w=S.length,T=Math.round(x/w*100);o({correct:x,total:w,percentage:T,selections:m.map((y,B)=>(y==null?void 0:y.input)||""),answers:m,quizType:"complete"})},$=()=>{f(!1)},Q=m.filter(x=>x!==null).length,F=Q/S.length*100;return e.jsxs("div",{className:"complete-quiz-container",children:[e.jsxs("header",{className:"complete-quiz-header",children:[e.jsx("h1",{className:"complete-quiz-title",children:s("completeQuiz.title")}),e.jsx("p",{className:"complete-quiz-instruction",children:s("completeQuiz.instruction")})]}),e.jsxs("div",{className:"complete-quiz-progress",children:[e.jsx(W,{progress:F}),e.jsx("div",{className:"progress-text",children:s("completeQuiz.progress",{completed:Q,total:S.length})})]}),e.jsxs("div",{className:"complete-quiz-content",children:[e.jsx("div",{className:"book-number",children:t+1}),e.jsxs("div",{className:"hint-card",children:[e.jsx("div",{className:"hint-text",children:z}),e.jsx("div",{className:"hint-label",children:s("completeQuiz.hint",{hint:`${j.length} ${r==="es"?"letras":"letters"}`})})]}),h?e.jsxs("div",{className:`result-section ${p?"correct":"incorrect"}`,children:[e.jsx("div",{className:"result-icon",children:p?"âœ“":"âœ—"}),e.jsx("div",{className:"result-message",children:s(p?"completeQuiz.correct":"completeQuiz.incorrect")}),!p&&e.jsx("div",{className:"correct-answer",children:s("completeQuiz.correctAnswer",{answer:j})}),e.jsx(C,{onClick:v,variant:"primary",className:"next-button",children:t<S.length-1?s("completeQuiz.next"):s("completeQuiz.submitAll")})]}):e.jsxs("div",{className:"input-section",children:[e.jsx("input",{ref:g,type:"text",className:"book-input",value:i,onChange:x=>u(x.target.value),onKeyPress:Y,placeholder:s("completeQuiz.placeholder"),autoComplete:"off",autoCapitalize:"words"}),e.jsxs("div",{className:"input-actions",children:[e.jsx(C,{onClick:L,variant:"secondary",className:"skip-button",children:s("completeQuiz.skip")}),e.jsx(C,{onClick:E,variant:"primary",disabled:!i.trim(),className:"check-button",children:s("completeQuiz.check")})]})]})]}),e.jsx("div",{className:"books-overview",children:S.map((x,w)=>{const T=m[w];let y="pending";return T?y=T.correct?"correct":"incorrect":w===t&&(y="current"),e.jsx("div",{className:`book-dot ${y}`,title:`${w+1}. ${n(S[w])}`},w)})}),N&&e.jsx("div",{className:"confirmation-overlay",onClick:$,children:e.jsxs("div",{className:"confirmation-modal",onClick:x=>x.stopPropagation(),children:[e.jsx("h2",{className:"confirmation-title",children:s("completeQuiz.confirmTitle")}),e.jsx("p",{className:"confirmation-text",children:s("completeQuiz.confirmText",{completed:Q,total:S.length})}),e.jsxs("div",{className:"confirmation-actions",children:[e.jsx(C,{onClick:$,variant:"secondary",children:s("quiz.goBack")}),e.jsx(C,{onClick:Z,variant:"primary",children:s("quiz.yesSubmit")})]})]})})]})},be=({score:o,onRetry:s,onHome:n})=>{const{updateStats:r}=K(),{t,translateBook:c,getScoreMessage:i}=q();if(l.useEffect(()=>{o&&r(o)},[o,r]),!o)return e.jsxs("div",{className:"results-container",children:[e.jsx("p",{children:t("results.noResults")}),e.jsx(C,{onClick:n,children:t("results.goHome")})]});const{correct:u,total:m,percentage:d,selections:h,answers:a,quizType:p}=o,b=i(d),N=de(d),f=p==="complete";return e.jsx("div",{className:"results-container",children:e.jsxs("div",{className:"results-content",children:[e.jsx("header",{className:"results-header",children:e.jsx("h1",{className:"results-title",children:t("results.title")})}),e.jsxs(I,{className:"score-card",children:[e.jsxs("div",{className:"score-display",style:{borderColor:N},children:[e.jsxs("div",{className:"score-percentage",style:{color:N},children:[d,"%"]}),e.jsx("div",{className:"score-message",style:{color:N},children:b}),e.jsx("div",{className:"score-details",children:t("results.outOf",{correct:u,total:m})})]}),e.jsxs("div",{className:"score-breakdown",children:[e.jsxs("div",{className:"breakdown-item correct",children:[e.jsx("span",{className:"breakdown-icon",children:"âœ“"}),e.jsxs("span",{className:"breakdown-text",children:[u," ",t("results.correct")]})]}),e.jsxs("div",{className:"breakdown-item incorrect",children:[e.jsx("span",{className:"breakdown-icon",children:"âœ—"}),e.jsxs("span",{className:"breakdown-text",children:[m-u," ",t("results.incorrect")]})]})]})]}),e.jsxs(I,{className:"details-card",children:[e.jsx("h2",{className:"details-title",children:t("results.yourAnswers")}),e.jsx("div",{className:"answers-list",children:f?a==null?void 0:a.map((g,k)=>{const j=S[k],z=g==null?void 0:g.correct,E=(g==null?void 0:g.input)||"-";return e.jsxs("div",{className:`answer-item ${z?"correct":"incorrect"}`,children:[e.jsx("div",{className:"answer-position",children:k+1}),e.jsxs("div",{className:"answer-content",children:[e.jsxs("div",{className:"answer-your-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.yourAnswer")}),e.jsx("span",{className:"answer-book",children:E})]}),!z&&e.jsxs("div",{className:"answer-correct-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.correctAnswer")}),e.jsx("span",{className:"answer-book",children:c(j)})]})]}),e.jsx("div",{className:"answer-status",children:z?e.jsx("span",{className:"status-icon correct",children:"âœ“"}):e.jsx("span",{className:"status-icon incorrect",children:"âœ—"})})]},k)}):h==null?void 0:h.map((g,k)=>{const j=S[k],z=g===j;return e.jsxs("div",{className:`answer-item ${z?"correct":"incorrect"}`,children:[e.jsx("div",{className:"answer-position",children:k+1}),e.jsxs("div",{className:"answer-content",children:[e.jsxs("div",{className:"answer-your-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.yourAnswer")}),e.jsx("span",{className:"answer-book",children:c(g)})]}),!z&&e.jsxs("div",{className:"answer-correct-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.correctAnswer")}),e.jsx("span",{className:"answer-book",children:c(j)})]})]}),e.jsx("div",{className:"answer-status",children:z?e.jsx("span",{className:"status-icon correct",children:"âœ“"}):e.jsx("span",{className:"status-icon incorrect",children:"âœ—"})})]},k)})})]}),e.jsxs("div",{className:"results-actions",children:[e.jsx(C,{onClick:n,variant:"secondary",size:"large",children:t("results.home")}),e.jsx(C,{onClick:s,variant:"primary",size:"large",children:t("results.tryAgain")})]})]})})},Ne=()=>{const{language:o,setLanguage:s,t:n}=q();return e.jsxs("div",{className:"language-selector",children:[e.jsx("button",{className:`lang-button ${o==="en"?"active":""}`,onClick:()=>s("en"),title:n("language.en"),"aria-label":n("language.en"),children:"EN"}),e.jsx("button",{className:`lang-button ${o==="es"?"active":""}`,onClick:()=>s("es"),title:n("language.es"),"aria-label":n("language.es"),children:"ES"})]})};function je(){const[o,s]=l.useState("home"),[n,r]=l.useState(null),[t,c]=l.useState("order"),i=()=>{c("order"),s("quiz"),r(null)},u=()=>{c("complete"),s("completeQuiz"),r(null)},m=a=>{r({...a,quizType:t}),s("results")},d=()=>{s("home"),r(null)},h=()=>{t==="complete"?u():i()};return e.jsx(ie,{children:e.jsx(me,{children:e.jsxs("div",{className:"app",children:[e.jsx("div",{className:"app-language-selector",children:e.jsx(Ne,{})}),o==="home"&&e.jsx(le,{onStartOrder:i,onStartComplete:u}),o==="quiz"&&e.jsx(ge,{onComplete:m}),o==="completeQuiz"&&e.jsx(xe,{onComplete:m}),o==="results"&&e.jsx(be,{score:n,onRetry:h,onHome:d})]})})})}const ve="modulepreload",Se=function(o){return"/ITIApp/"+o},H={},ke=function(s,n,r){let t=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));t=Promise.allSettled(n.map(m=>{if(m=Se(m),m in H)return;H[m]=!0;const d=m.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const a=document.createElement("link");if(a.rel=d?"stylesheet":ve,d||(a.as="script"),a.crossOrigin="",a.href=m,u&&a.setAttribute("nonce",u),document.head.appendChild(a),d)return new Promise((p,b)=>{a.addEventListener("load",p),a.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return t.then(i=>{for(const u of i||[])u.status==="rejected"&&c(u.reason);return s().catch(c)})};function ye(o={}){const{immediate:s=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:t,onRegisteredSW:c,onRegisterError:i}=o;let u,m;const d=async(a=!0)=>{await m};async function h(){if("serviceWorker"in navigator){if(u=await ke(async()=>{const{Workbox:a}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:a}},[]).then(({Workbox:a})=>new a("/ITIApp/sw.js",{scope:"/ITIApp/",type:"classic"})).catch(a=>{i==null||i(a)}),!u)return;u.addEventListener("activated",a=>{(a.isUpdate||a.isExternal)&&window.location.reload()}),u.addEventListener("installed",a=>{a.isUpdate||r==null||r()}),u.register({immediate:s}).then(a=>{c?c("/ITIApp/sw.js",a):t==null||t(a)}).catch(a=>{i==null||i(a)})}}return m=h(),d}const ze=ye({onNeedRefresh(){confirm("New content available. Reload?")&&ze(!0)},onOfflineReady(){console.log("App ready to work offline")}});R.createRoot(document.getElementById("root")).render(e.jsx(X.StrictMode,{children:e.jsx(je,{})}));

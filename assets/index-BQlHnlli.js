import{r as m,a as X,R as ee}from"./react-vendor-wGySg1uH.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}})();var U={exports:{}},L={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se=m,te=Symbol.for("react.element"),ne=Symbol.for("react.fragment"),re=Object.prototype.hasOwnProperty,oe=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ae={key:!0,ref:!0,__self:!0,__source:!0};function K(o,s,r){var n,t={},a=null,c=null;r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(c=s.ref);for(n in s)re.call(s,n)&&!ae.hasOwnProperty(n)&&(t[n]=s[n]);if(o&&o.defaultProps)for(n in s=o.defaultProps,s)t[n]===void 0&&(t[n]=s[n]);return{$$typeof:te,type:o,key:a,ref:c,props:t,_owner:oe.current}}L.Fragment=ne;L.jsx=K;L.jsxs=K;U.exports=L;var e=U.exports,D={},_=X;D.createRoot=_.createRoot,D.hydrateRoot=_.hydrateRoot;const B=({children:o,className:s="",...r})=>e.jsx("div",{className:`card ${s}`,...r,children:o}),ie=(o,s)=>{const[r,n]=m.useState(()=>{try{const a=window.localStorage.getItem(o);return a?JSON.parse(a):s}catch(a){return console.error(`Error loading localStorage key "${o}":`,a),s}});return[r,a=>{try{const c=a instanceof Function?a(r):a;n(c),window.localStorage.setItem(o,JSON.stringify(c))}catch(c){console.error(`Error setting localStorage key "${o}":`,c)}}]},Y=()=>{const[o,s]=ie("itiapp-stats",{totalAttempts:0,bestScore:0,averageScore:0,totalCorrect:0,lastAttemptDate:null}),r=m.useCallback(t=>{s(a=>{const c=a.totalAttempts+1,d=a.totalCorrect+t.correct,h=Math.round(d/(c*t.total)*100);return{totalAttempts:c,bestScore:Math.max(a.bestScore,t.percentage),averageScore:h,totalCorrect:d,lastAttemptDate:new Date().toISOString()}})},[s]),n=m.useCallback(()=>{s({totalAttempts:0,bestScore:0,averageScore:0,totalCorrect:0,lastAttemptDate:null})},[s]);return{stats:o,updateStats:r,resetStats:n}},T={en:{appName:"ITIApp",appSubtitle:"Bible Quiz",home:{welcomeTitle:"Old Testament Books",welcomeDescription:"Test your knowledge of the Old Testament! Choose a quiz mode below.",booksCount:"39 Books",unlimitedTime:"Unlimited Time",orderChallenge:"Order Challenge",startQuiz:"Start Quiz",yourProgress:"Your Progress",attempts:"Attempts",bestScore:"Best Score",average:"Average",footerText:"Learn the Bible one quiz at a time",selectQuizType:"Select Quiz Type",quizTypes:{order:{title:"Order the Books",description:"Arrange all 39 books in their correct biblical order",icon:"ðŸ“š"},complete:{title:"Complete the Names",description:"Books shown in order - type the full name from the first letters",icon:"âœï¸"},covenants:{title:"Jacob's Covenants",description:"Multiple choice questions about the covenants in Genesis",icon:"ðŸ“œ"}},oldTestament:"Old Testament",knowledge:"Knowledge"},quiz:{title:"Order the Books",instruction:"Click the books in their correct biblical order",selected:"selected",undoLast:"Undo Last",resetAll:"Reset All",submitAnswer:"Submit Answer",confirmTitle:"Submit Your Answer?",confirmText:"Are you sure you want to submit? You have selected all {count} books.",goBack:"Go Back",yesSubmit:"Yes, Submit"},completeQuiz:{title:"Complete the Names",instruction:"Type the full book name for each hint",progress:"{completed} of {total} completed",placeholder:"Type book name...",skip:"Skip",check:"Check",next:"Next",correct:"Correct!",incorrect:"Incorrect",correctAnswer:"The answer was: {answer}",submitAll:"Submit Quiz",confirmTitle:"Submit Your Answers?",confirmText:"You have completed {completed} of {total} books. Submit now?",hint:"Hint: {hint}"},multipleChoice:{title:"Jacob's Covenants",instruction:"Select the correct answer for each question",question:"Question {current} of {total}",selectAnswer:"Select your answer",next:"Next",finish:"Finish",correct:"Correct!",incorrect:"Incorrect",correctAnswerWas:"The correct answer was:",reference:"Reference:",yourAnswer:"Your answer:",skipped:"Skipped"},results:{title:"Quiz Complete!",noResults:"No results available",goHome:"Go Home",outOf:"{correct} out of {total} correct",correct:"Correct",incorrect:"Incorrect",yourAnswers:"Your Answers",yourAnswer:"Your answer:",correctAnswer:"Correct:",home:"Home",tryAgain:"Try Again"},scores:{perfect:"Perfect Score!",excellent:"Excellent!",great:"Great Job!",good:"Good Work!",notBad:"Not Bad!",keepPracticing:"Keep Practicing!",tryAgain:"Try Again!"},language:{select:"Language",en:"English",es:"Spanish"},books:{Genesis:"Genesis",Exodus:"Exodus",Leviticus:"Leviticus",Numbers:"Numbers",Deuteronomy:"Deuteronomy",Joshua:"Joshua",Judges:"Judges",Ruth:"Ruth","1 Samuel":"1 Samuel","2 Samuel":"2 Samuel","1 Kings":"1 Kings","2 Kings":"2 Kings","1 Chronicles":"1 Chronicles","2 Chronicles":"2 Chronicles",Ezra:"Ezra",Nehemiah:"Nehemiah",Esther:"Esther",Job:"Job",Psalms:"Psalms",Proverbs:"Proverbs",Ecclesiastes:"Ecclesiastes","Song of Solomon":"Song of Solomon",Isaiah:"Isaiah",Jeremiah:"Jeremiah",Lamentations:"Lamentations",Ezekiel:"Ezekiel",Daniel:"Daniel",Hosea:"Hosea",Joel:"Joel",Amos:"Amos",Obadiah:"Obadiah",Jonah:"Jonah",Micah:"Micah",Nahum:"Nahum",Habakkuk:"Habakkuk",Zephaniah:"Zephaniah",Haggai:"Haggai",Zechariah:"Zechariah",Malachi:"Malachi"}},es:{appName:"ITIApp",appSubtitle:"Quiz BÃ­blico",home:{welcomeTitle:"Libros del Antiguo Testamento",welcomeDescription:"Â¡Pon a prueba tu conocimiento del Antiguo Testamento! Elige un modo de quiz abajo.",booksCount:"39 Libros",unlimitedTime:"Tiempo Ilimitado",orderChallenge:"DesafÃ­o de Orden",startQuiz:"Comenzar Quiz",yourProgress:"Tu Progreso",attempts:"Intentos",bestScore:"Mejor Puntaje",average:"Promedio",footerText:"Aprende la Biblia un quiz a la vez",selectQuizType:"Selecciona el Tipo de Quiz",quizTypes:{order:{title:"Ordenar los Libros",description:"Ordena los 39 libros en su orden bÃ­blico correcto",icon:"ðŸ“š"},complete:{title:"Completar los Nombres",description:"Libros en orden - escribe el nombre completo desde las primeras letras",icon:"âœï¸"},covenants:{title:"Pactos de Jacob",description:"Preguntas de opciÃ³n mÃºltiple sobre los pactos en GÃ©nesis",icon:"ðŸ“œ"}},oldTestament:"Antiguo Testamento",knowledge:"Conocimiento"},quiz:{title:"Ordena los Libros",instruction:"Haz clic en los libros en su orden bÃ­blico correcto",selected:"seleccionados",undoLast:"Deshacer",resetAll:"Reiniciar",submitAnswer:"Enviar Respuesta",confirmTitle:"Â¿Enviar tu Respuesta?",confirmText:"Â¿EstÃ¡s seguro de que quieres enviar? Has seleccionado los {count} libros.",goBack:"Volver",yesSubmit:"SÃ­, Enviar"},completeQuiz:{title:"Completar los Nombres",instruction:"Escribe el nombre completo del libro para cada pista",progress:"{completed} de {total} completados",placeholder:"Escribe el nombre...",skip:"Saltar",check:"Verificar",next:"Siguiente",correct:"Â¡Correcto!",incorrect:"Incorrecto",correctAnswer:"La respuesta era: {answer}",submitAll:"Enviar Quiz",confirmTitle:"Â¿Enviar tus Respuestas?",confirmText:"Has completado {completed} de {total} libros. Â¿Enviar ahora?",hint:"Pista: {hint}"},multipleChoice:{title:"Pactos de Jacob",instruction:"Selecciona la respuesta correcta para cada pregunta",question:"Pregunta {current} de {total}",selectAnswer:"Selecciona tu respuesta",next:"Siguiente",finish:"Finalizar",correct:"Â¡Correcto!",incorrect:"Incorrecto",correctAnswerWas:"La respuesta correcta era:",reference:"Referencia:",yourAnswer:"Tu respuesta:",skipped:"Omitida"},results:{title:"Â¡Quiz Completado!",noResults:"No hay resultados disponibles",goHome:"Ir al Inicio",outOf:"{correct} de {total} correctos",correct:"Correctos",incorrect:"Incorrectos",yourAnswers:"Tus Respuestas",yourAnswer:"Tu respuesta:",correctAnswer:"Correcto:",home:"Inicio",tryAgain:"Intentar de Nuevo"},scores:{perfect:"Â¡Puntaje Perfecto!",excellent:"Â¡Excelente!",great:"Â¡Muy Bien!",good:"Â¡Buen Trabajo!",notBad:"Â¡Nada Mal!",keepPracticing:"Â¡Sigue Practicando!",tryAgain:"Â¡IntÃ©ntalo de Nuevo!"},language:{select:"Idioma",en:"InglÃ©s",es:"EspaÃ±ol"},books:{Genesis:"GÃ©nesis",Exodus:"Ã‰xodo",Leviticus:"LevÃ­tico",Numbers:"NÃºmeros",Deuteronomy:"Deuteronomio",Joshua:"JosuÃ©",Judges:"Jueces",Ruth:"Rut","1 Samuel":"1 Samuel","2 Samuel":"2 Samuel","1 Kings":"1 Reyes","2 Kings":"2 Reyes","1 Chronicles":"1 CrÃ³nicas","2 Chronicles":"2 CrÃ³nicas",Ezra:"Esdras",Nehemiah:"NehemÃ­as",Esther:"Ester",Job:"Job",Psalms:"Salmos",Proverbs:"Proverbios",Ecclesiastes:"EclesiastÃ©s","Song of Solomon":"Cantares",Isaiah:"IsaÃ­as",Jeremiah:"JeremÃ­as",Lamentations:"Lamentaciones",Ezekiel:"Ezequiel",Daniel:"Daniel",Hosea:"Oseas",Joel:"Joel",Amos:"AmÃ³s",Obadiah:"AbdÃ­as",Jonah:"JonÃ¡s",Micah:"Miqueas",Nahum:"NahÃºm",Habakkuk:"Habacuc",Zephaniah:"SofonÃ­as",Haggai:"Hageo",Zechariah:"ZacarÃ­as",Malachi:"MalaquÃ­as"}}},Z=m.createContext(null),ce=()=>{var r;const o=localStorage.getItem("language");if(o&&T[o])return o;const s=(r=navigator.language)==null?void 0:r.split("-")[0];return s&&T[s]?s:"en"},le=({children:o})=>{const[s,r]=m.useState(ce);m.useEffect(()=>{document.documentElement.lang=s},[s]);const n=m.useCallback(l=>{T[l]&&(r(l),localStorage.setItem("language",l))},[]),t=m.useCallback((l,p={})=>{const i=l.split(".");let x=T[s];for(const g of i)if(x&&typeof x=="object"&&g in x)x=x[g];else{x=T.en;for(const S of i)if(x&&typeof x=="object"&&S in x)x=x[S];else return l;break}return typeof x=="string"&&Object.keys(p).length>0?x.replace(/\{(\w+)\}/g,(g,S)=>p[S]!==void 0?p[S]:g):x||l},[s]),a=m.useCallback(l=>{var p,i;return((i=(p=T[s])==null?void 0:p.books)==null?void 0:i[l])||l},[s]),c=m.useCallback(l=>{var i;const p=((i=T[s])==null?void 0:i.scores)||T.en.scores;return l===100?p.perfect:l>=90?p.excellent:l>=80?p.great:l>=70?p.good:l>=60?p.notBad:l>=50?p.keepPracticing:p.tryAgain},[s]),d=m.useMemo(()=>Object.keys(T),[]),h=m.useMemo(()=>({language:s,setLanguage:n,t,translateBook:a,getScoreMessage:c,availableLanguages:d}),[s,n,t,a,c,d]);return e.jsx(Z.Provider,{value:h,children:o})},Q=()=>{const o=m.useContext(Z);if(!o)throw new Error("useI18n must be used within an I18nProvider");return o},de=({onStartOrder:o,onStartComplete:s,onStartCovenants:r})=>{const{stats:n}=Y(),{t}=Q();return e.jsx("div",{className:"home-container",children:e.jsxs("div",{className:"home-content",children:[e.jsx("header",{className:"home-header",children:e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"logo",children:e.jsx("span",{className:"logo-icon",children:"ðŸ“–"})}),e.jsx("h1",{className:"app-title",children:t("appName")}),e.jsx("p",{className:"app-subtitle",children:t("appSubtitle")})]})}),e.jsxs(B,{className:"welcome-card",children:[e.jsx("h2",{className:"welcome-title",children:t("home.welcomeTitle")}),e.jsx("p",{className:"welcome-description",children:t("home.welcomeDescription")}),e.jsxs("div",{className:"quiz-info",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-icon",children:"ðŸ“š"}),e.jsx("span",{className:"info-text",children:t("home.booksCount")})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-icon",children:"â±ï¸"}),e.jsx("span",{className:"info-text",children:t("home.unlimitedTime")})]})]}),e.jsx("h3",{className:"quiz-type-title",children:t("home.selectQuizType")}),e.jsxs("div",{className:"quiz-category",children:[e.jsx("h4",{className:"quiz-category-title",children:t("home.oldTestament")}),e.jsxs("div",{className:"quiz-types",children:[e.jsxs("button",{className:"quiz-type-card",onClick:o,children:[e.jsx("span",{className:"quiz-type-icon",children:t("home.quizTypes.order.icon")}),e.jsx("span",{className:"quiz-type-name",children:t("home.quizTypes.order.title")}),e.jsx("span",{className:"quiz-type-desc",children:t("home.quizTypes.order.description")})]}),e.jsxs("button",{className:"quiz-type-card",onClick:s,children:[e.jsx("span",{className:"quiz-type-icon",children:t("home.quizTypes.complete.icon")}),e.jsx("span",{className:"quiz-type-name",children:t("home.quizTypes.complete.title")}),e.jsx("span",{className:"quiz-type-desc",children:t("home.quizTypes.complete.description")})]})]})]}),e.jsxs("div",{className:"quiz-category",children:[e.jsx("h4",{className:"quiz-category-title",children:t("home.knowledge")}),e.jsx("div",{className:"quiz-types",children:e.jsxs("button",{className:"quiz-type-card",onClick:r,children:[e.jsx("span",{className:"quiz-type-icon",children:t("home.quizTypes.covenants.icon")}),e.jsx("span",{className:"quiz-type-name",children:t("home.quizTypes.covenants.title")}),e.jsx("span",{className:"quiz-type-desc",children:t("home.quizTypes.covenants.description")})]})})]})]}),n.totalAttempts>0&&e.jsxs(B,{className:"stats-card",children:[e.jsx("h3",{className:"stats-title",children:t("home.yourProgress")}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:n.totalAttempts}),e.jsx("div",{className:"stat-label",children:t("home.attempts")})]}),e.jsxs("div",{className:"stat-item",children:[e.jsxs("div",{className:"stat-value",children:[n.bestScore,"%"]}),e.jsx("div",{className:"stat-label",children:t("home.bestScore")})]}),e.jsxs("div",{className:"stat-item",children:[e.jsxs("div",{className:"stat-value",children:[n.averageScore,"%"]}),e.jsx("div",{className:"stat-label",children:t("home.average")})]})]})]}),e.jsx("footer",{className:"home-footer",children:e.jsx("p",{className:"footer-text",children:t("home.footerText")})})]})})},C=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"],ue=o=>{const s=[...o];for(let r=s.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[s[r],s[n]]=[s[n],s[r]]}return s},me=o=>o>=90?"#27AE60":o>=70?"#50C878":o>=50?"#F39C12":"#E74C3C",F=m.createContext(),he=({children:o})=>{const[s,r]=m.useState([]),[n,t]=m.useState([]),[a,c]=m.useState(!1),d=m.useCallback(()=>{r(ue([...C])),t([]),c(!0)},[]),h=m.useCallback(N=>{t(j=>[...j,N])},[]),l=m.useCallback(()=>{t(N=>N.slice(0,-1))},[]),p=m.useCallback(()=>{t([])},[]),i=m.useCallback(()=>{let N=0;n.forEach((b,v)=>{C[v]===b&&N++});const j=C.length,A=Math.round(N/j*100);return{correct:N,total:j,percentage:A,selections:n}},[n]),x=m.useCallback(N=>n.includes(N),[n]),g=m.useCallback(N=>{const j=n.indexOf(N);return j===-1?null:j+1},[n]),S={shuffledBooks:s,selectedBooks:n,isInitialized:a,initializeQuiz:d,selectBook:h,undoLastSelection:l,resetSelections:p,calculateScore:i,isBookSelected:x,getSelectionIndex:g};return e.jsx(F.Provider,{value:S,children:o})},pe=()=>{const o=m.useContext(F);if(!o)throw new Error("useQuiz must be used within QuizProvider");return o},fe=({book:o,displayName:s,isSelected:r,selectionIndex:n,onClick:t})=>e.jsx("div",{className:`book-card ${r?"book-card-selected":""}`,onClick:t,role:"button",tabIndex:r?-1:0,onKeyPress:a=>{(a.key==="Enter"||a.key===" ")&&t()},"aria-pressed":r,children:e.jsxs("div",{className:"book-card-content",children:[e.jsx("span",{className:"book-name",children:s||o}),r&&e.jsx("div",{className:"selection-badge",children:n})]})}),M=({progress:o=0,color:s="#4A90E2"})=>{const r=Math.min(100,Math.max(0,o));return e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar-fill",style:{width:`${r}%`,backgroundColor:s}})})},z=({onClick:o,variant:s="primary",size:r="medium",disabled:n=!1,className:t="",children:a,...c})=>{const d=`button button-${s} button-${r} ${t}`;return e.jsx("button",{className:d,onClick:o,disabled:n,...c,children:a})},xe=({onComplete:o})=>{const{shuffledBooks:s,selectedBooks:r,isInitialized:n,initializeQuiz:t,selectBook:a,undoLastSelection:c,resetSelections:d,calculateScore:h,isBookSelected:l,getSelectionIndex:p}=pe(),{t:i,translateBook:x}=Q(),[g,S]=m.useState(!1);m.useEffect(()=>{n||t()},[n,t]);const N=u=>{l(u)||a(u)},j=()=>{r.length===s.length&&S(!0)},A=()=>{const u=h();o(u)},b=()=>{S(!1)},v=s.length>0?r.length/s.length*100:0,f=r.length===s.length;return e.jsxs("div",{className:"quiz-container",children:[e.jsxs("header",{className:"quiz-header",children:[e.jsx("h1",{className:"quiz-title",children:i("quiz.title")}),e.jsx("p",{className:"quiz-instruction",children:i("quiz.instruction")})]}),e.jsxs("div",{className:"quiz-progress",children:[e.jsx(M,{progress:v}),e.jsxs("div",{className:"progress-text",children:[r.length," / ",s.length," ",i("quiz.selected")]})]}),e.jsx("div",{className:"quiz-content",children:e.jsx("div",{className:"books-grid",children:s.map((u,y)=>e.jsx(fe,{book:u,displayName:x(u),isSelected:l(u),selectionIndex:p(u),onClick:()=>N(u)},`${u}-${y}`))})}),e.jsxs("div",{className:"quiz-actions",children:[e.jsx(z,{onClick:c,variant:"secondary",disabled:r.length===0,className:"action-button",children:i("quiz.undoLast")}),e.jsx(z,{onClick:d,variant:"secondary",disabled:r.length===0,className:"action-button",children:i("quiz.resetAll")}),e.jsx(z,{onClick:j,variant:"primary",disabled:!f,className:"action-button submit-button",children:i("quiz.submitAnswer")})]}),g&&e.jsx("div",{className:"confirmation-overlay",onClick:b,children:e.jsxs("div",{className:"confirmation-modal",onClick:u=>u.stopPropagation(),children:[e.jsx("h2",{className:"confirmation-title",children:i("quiz.confirmTitle")}),e.jsx("p",{className:"confirmation-text",children:i("quiz.confirmText",{count:s.length})}),e.jsxs("div",{className:"confirmation-actions",children:[e.jsx(z,{onClick:b,variant:"secondary",children:i("quiz.goBack")}),e.jsx(z,{onClick:A,variant:"primary",children:i("quiz.yesSubmit")})]})]})})]})},ge=(o,s)=>{const r=s||o;if(/^\d/.test(r)){const n=r.split(" ");if(n.length>1)return`${n[0]} ${n[1].charAt(0)}...`}return r.length<=4?`${r.charAt(0)}...`:`${r.substring(0,2)}...`},J=o=>o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),be=({onComplete:o})=>{const{t:s,translateBook:r,language:n}=Q(),[t,a]=m.useState(0),[c,d]=m.useState(""),[h,l]=m.useState(Array(C.length).fill(null)),[p,i]=m.useState(!1),[x,g]=m.useState(null),[S,N]=m.useState(!1),j=m.useRef(null),A=C[t],b=r(A),v=ge(A,b);m.useEffect(()=>{j.current&&!p&&j.current.focus()},[t,p]);const f=()=>{const w=J(c),I=J(b),E=J(A),k=w===I||w===E;g(k),i(!0);const R=[...h];R[t]={input:c,correct:k,correctAnswer:b},l(R)},u=()=>{t<C.length-1?(a(t+1),d(""),i(!1),g(null)):P()},y=()=>{const w=[...h];w[t]={input:"",correct:!1,correctAnswer:b,skipped:!0},l(w),t<C.length-1?(a(t+1),d(""),i(!1),g(null)):P()},q=w=>{w.key==="Enter"&&(p?u():c.trim()&&f())},P=()=>{N(!0)},G=()=>{const w=h.filter(k=>k==null?void 0:k.correct).length,I=C.length,E=Math.round(w/I*100);o({correct:w,total:I,percentage:E,selections:h.map((k,R)=>(k==null?void 0:k.input)||""),answers:h,quizType:"complete"})},$=()=>{N(!1)},O=h.filter(w=>w!==null).length,V=O/C.length*100;return e.jsxs("div",{className:"complete-quiz-container",children:[e.jsxs("header",{className:"complete-quiz-header",children:[e.jsx("h1",{className:"complete-quiz-title",children:s("completeQuiz.title")}),e.jsx("p",{className:"complete-quiz-instruction",children:s("completeQuiz.instruction")})]}),e.jsxs("div",{className:"complete-quiz-progress",children:[e.jsx(M,{progress:V}),e.jsx("div",{className:"progress-text",children:s("completeQuiz.progress",{completed:O,total:C.length})})]}),e.jsxs("div",{className:"complete-quiz-content",children:[e.jsx("div",{className:"book-number",children:t+1}),e.jsxs("div",{className:"hint-card",children:[e.jsx("div",{className:"hint-text",children:v}),e.jsx("div",{className:"hint-label",children:s("completeQuiz.hint",{hint:`${b.length} ${n==="es"?"letras":"letters"}`})})]}),p?e.jsxs("div",{className:`result-section ${x?"correct":"incorrect"}`,children:[e.jsx("div",{className:"result-icon",children:x?"âœ“":"âœ—"}),e.jsx("div",{className:"result-message",children:s(x?"completeQuiz.correct":"completeQuiz.incorrect")}),!x&&e.jsx("div",{className:"correct-answer",children:s("completeQuiz.correctAnswer",{answer:b})}),e.jsx(z,{onClick:u,variant:"primary",className:"next-button",children:t<C.length-1?s("completeQuiz.next"):s("completeQuiz.submitAll")})]}):e.jsxs("div",{className:"input-section",children:[e.jsx("input",{ref:j,type:"text",className:"book-input",value:c,onChange:w=>d(w.target.value),onKeyPress:q,placeholder:s("completeQuiz.placeholder"),autoComplete:"off",autoCapitalize:"words"}),e.jsxs("div",{className:"input-actions",children:[e.jsx(z,{onClick:y,variant:"secondary",className:"skip-button",children:s("completeQuiz.skip")}),e.jsx(z,{onClick:f,variant:"primary",disabled:!c.trim(),className:"check-button",children:s("completeQuiz.check")})]})]})]}),e.jsx("div",{className:"books-overview",children:C.map((w,I)=>{const E=h[I];let k="pending";return E?k=E.correct?"correct":"incorrect":I===t&&(k="current"),e.jsx("div",{className:`book-dot ${k}`,title:`${I+1}. ${r(C[I])}`},I)})}),S&&e.jsx("div",{className:"confirmation-overlay",onClick:$,children:e.jsxs("div",{className:"confirmation-modal",onClick:w=>w.stopPropagation(),children:[e.jsx("h2",{className:"confirmation-title",children:s("completeQuiz.confirmTitle")}),e.jsx("p",{className:"confirmation-text",children:s("completeQuiz.confirmText",{completed:O,total:C.length})}),e.jsxs("div",{className:"confirmation-actions",children:[e.jsx(z,{onClick:$,variant:"secondary",children:s("quiz.goBack")}),e.jsx(z,{onClick:G,variant:"primary",children:s("quiz.yesSubmit")})]})]})})]})},H={en:[{id:1,question:"What was the sign of God's covenant with Noah?",options:["A rainbow","A dove","An olive branch","A burning bush"],correctIndex:0,reference:"Genesis 9:12-17"},{id:2,question:"What did God promise Noah after the flood?",options:["That he would live forever","That he would never destroy the earth with water again","That his descendants would rule all nations","That animals would no longer exist"],correctIndex:1,reference:"Genesis 9:11"},{id:3,question:"How old was Abraham when God made the covenant of circumcision with him?",options:["75 years old","86 years old","99 years old","100 years old"],correctIndex:2,reference:"Genesis 17:1"},{id:4,question:"What was Abraham's name before God changed it?",options:["Abram","Abel","Aram","Abimelech"],correctIndex:0,reference:"Genesis 17:5"},{id:5,question:"What land did God promise to Abraham and his descendants?",options:["Egypt","Babylon","Canaan","Mesopotamia"],correctIndex:2,reference:"Genesis 17:8"},{id:6,question:"What was the physical sign of the Abrahamic covenant?",options:["A sacrifice","Circumcision","Baptism","A rainbow"],correctIndex:1,reference:"Genesis 17:10-11"},{id:7,question:"In Genesis 15, what did God use to confirm His covenant with Abraham?",options:["A written contract","A handshake","Animals cut in half with a smoking firepot and flaming torch passing between them","Seven stones"],correctIndex:2,reference:"Genesis 15:9-17"},{id:8,question:"What did God promise Abraham about his descendants?",options:["They would be few but powerful","They would be as numerous as the stars in the sky","They would all be kings","They would live in Egypt forever"],correctIndex:1,reference:"Genesis 15:5"},{id:9,question:"Where did God reaffirm His covenant with Jacob?",options:["In Egypt","In Canaan","At Bethel","At Mount Sinai"],correctIndex:2,reference:"Genesis 35:9-12"},{id:10,question:"What did Jacob see in his dream at Bethel?",options:["A burning bush","A ladder reaching to heaven with angels ascending and descending","A rainbow in the clouds","Three visitors"],correctIndex:1,reference:"Genesis 28:12"},{id:11,question:"What was Sarah's name before God changed it?",options:["Sara","Sarai","Salome","Sapphira"],correctIndex:1,reference:"Genesis 17:15"},{id:12,question:"What blessing did God promise through Abraham to all nations?",options:["Wealth and prosperity","Military victory","All peoples on earth would be blessed through him","Eternal youth"],correctIndex:2,reference:"Genesis 12:3"},{id:13,question:"At what age was a male to be circumcised according to the covenant?",options:["At birth","Eight days old","One year old","Thirteen years old"],correctIndex:1,reference:"Genesis 17:12"},{id:14,question:"Who was the first person to be circumcised as part of the covenant?",options:["Isaac","Ishmael","Abraham","Jacob"],correctIndex:2,reference:"Genesis 17:24"},{id:15,question:"What did God command Adam in the Garden of Eden regarding creation?",options:["To destroy it","To have dominion over it and subdue it","To ignore it","To worship it"],correctIndex:1,reference:"Genesis 1:28"}],es:[{id:1,question:"Â¿CuÃ¡l fue la seÃ±al del pacto de Dios con NoÃ©?",options:["Un arcoÃ­ris","Una paloma","Una rama de olivo","Una zarza ardiente"],correctIndex:0,reference:"GÃ©nesis 9:12-17"},{id:2,question:"Â¿QuÃ© prometiÃ³ Dios a NoÃ© despuÃ©s del diluvio?",options:["Que vivirÃ­a para siempre","Que nunca volverÃ­a a destruir la tierra con agua","Que sus descendientes gobernarÃ­an todas las naciones","Que los animales ya no existirÃ­an"],correctIndex:1,reference:"GÃ©nesis 9:11"},{id:3,question:"Â¿QuÃ© edad tenÃ­a Abraham cuando Dios hizo el pacto de la circuncisiÃ³n con Ã©l?",options:["75 aÃ±os","86 aÃ±os","99 aÃ±os","100 aÃ±os"],correctIndex:2,reference:"GÃ©nesis 17:1"},{id:4,question:"Â¿CuÃ¡l era el nombre de Abraham antes de que Dios lo cambiara?",options:["Abram","Abel","Aram","Abimelec"],correctIndex:0,reference:"GÃ©nesis 17:5"},{id:5,question:"Â¿QuÃ© tierra prometiÃ³ Dios a Abraham y sus descendientes?",options:["Egipto","Babilonia","CanaÃ¡n","Mesopotamia"],correctIndex:2,reference:"GÃ©nesis 17:8"},{id:6,question:"Â¿CuÃ¡l fue la seÃ±al fÃ­sica del pacto con Abraham?",options:["Un sacrificio","La circuncisiÃ³n","El bautismo","Un arcoÃ­ris"],correctIndex:1,reference:"GÃ©nesis 17:10-11"},{id:7,question:"En GÃ©nesis 15, Â¿quÃ© usÃ³ Dios para confirmar Su pacto con Abraham?",options:["Un contrato escrito","Un apretÃ³n de manos","Animales partidos por la mitad con un horno humeante y una antorcha de fuego pasando entre ellos","Siete piedras"],correctIndex:2,reference:"GÃ©nesis 15:9-17"},{id:8,question:"Â¿QuÃ© prometiÃ³ Dios a Abraham sobre sus descendientes?",options:["SerÃ­an pocos pero poderosos","SerÃ­an tan numerosos como las estrellas del cielo","Todos serÃ­an reyes","VivirÃ­an en Egipto para siempre"],correctIndex:1,reference:"GÃ©nesis 15:5"},{id:9,question:"Â¿DÃ³nde reafirmÃ³ Dios Su pacto con Jacob?",options:["En Egipto","En CanaÃ¡n","En Betel","En el Monte SinaÃ­"],correctIndex:2,reference:"GÃ©nesis 35:9-12"},{id:10,question:"Â¿QuÃ© vio Jacob en su sueÃ±o en Betel?",options:["Una zarza ardiente","Una escalera que llegaba al cielo con Ã¡ngeles subiendo y bajando","Un arcoÃ­ris en las nubes","Tres visitantes"],correctIndex:1,reference:"GÃ©nesis 28:12"},{id:11,question:"Â¿CuÃ¡l era el nombre de Sara antes de que Dios lo cambiara?",options:["Sara","Sarai","SalomÃ©","Safira"],correctIndex:1,reference:"GÃ©nesis 17:15"},{id:12,question:"Â¿QuÃ© bendiciÃ³n prometiÃ³ Dios a travÃ©s de Abraham a todas las naciones?",options:["Riqueza y prosperidad","Victoria militar","Todos los pueblos de la tierra serÃ­an bendecidos a travÃ©s de Ã©l","Juventud eterna"],correctIndex:2,reference:"GÃ©nesis 12:3"},{id:13,question:"Â¿A quÃ© edad debÃ­a ser circuncidado un varÃ³n segÃºn el pacto?",options:["Al nacer","A los ocho dÃ­as","Al aÃ±o","A los trece aÃ±os"],correctIndex:1,reference:"GÃ©nesis 17:12"},{id:14,question:"Â¿QuiÃ©n fue la primera persona circuncidada como parte del pacto?",options:["Isaac","Ismael","Abraham","Jacob"],correctIndex:2,reference:"GÃ©nesis 17:24"},{id:15,question:"Â¿QuÃ© mandÃ³ Dios a AdÃ¡n en el JardÃ­n del EdÃ©n respecto a la creaciÃ³n?",options:["Destruirla","Tener dominio sobre ella y sojuzgarla","Ignorarla","Adorarla"],correctIndex:1,reference:"GÃ©nesis 1:28"}]},ve=o=>{const s=[...o];for(let r=s.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[s[r],s[n]]=[s[n],s[r]]}return s},Ne=({onComplete:o})=>{const{t:s,language:r}=Q(),[n,t]=m.useState([]),[a,c]=m.useState(0),[d,h]=m.useState(null),[l,p]=m.useState(!1),[i,x]=m.useState([]);m.useEffect(()=>{const f=H[r]||H.en;t(ve(f)),x([]),c(0),h(null),p(!1)},[r]);const g=n[a],S=n.length>0?(a+1)/n.length*100:0,N=f=>{l||h(f)},j=()=>{if(d===null)return;const f=d===g.correctIndex,u=[...i];u[a]={questionId:g.id,selectedIndex:d,correctIndex:g.correctIndex,correct:f},x(u),p(!0)},A=()=>{a<n.length-1?(c(a+1),h(null),p(!1)):b()},b=()=>{const f=i.filter(q=>q==null?void 0:q.correct).length,u=n.length,y=Math.round(f/u*100);o({correct:f,total:u,percentage:y,answers:i,questions:n,quizType:"covenants"})};if(!g)return e.jsx("div",{className:"mc-quiz-container",children:e.jsx("div",{className:"mc-loading",children:"Loading..."})});const v=d===g.correctIndex;return e.jsxs("div",{className:"mc-quiz-container",children:[e.jsxs("header",{className:"mc-quiz-header",children:[e.jsx("h1",{className:"mc-quiz-title",children:s("multipleChoice.title")}),e.jsx("p",{className:"mc-quiz-instruction",children:s("multipleChoice.instruction")})]}),e.jsxs("div",{className:"mc-quiz-progress",children:[e.jsx(M,{progress:S}),e.jsx("div",{className:"mc-progress-text",children:s("multipleChoice.question",{current:a+1,total:n.length})})]}),e.jsxs("div",{className:"mc-quiz-content",children:[e.jsxs("div",{className:"mc-question-card",children:[e.jsx("div",{className:"mc-question-text",children:g.question}),e.jsx("div",{className:"mc-options",children:g.options.map((f,u)=>{let y="mc-option";return l?u===g.correctIndex?y+=" correct":u===d&&!v&&(y+=" incorrect"):u===d&&(y+=" selected"),e.jsxs("button",{className:y,onClick:()=>N(u),disabled:l,children:[e.jsx("span",{className:"mc-option-letter",children:String.fromCharCode(65+u)}),e.jsx("span",{className:"mc-option-text",children:f}),l&&u===g.correctIndex&&e.jsx("span",{className:"mc-option-icon correct",children:"âœ“"}),l&&u===d&&!v&&e.jsx("span",{className:"mc-option-icon incorrect",children:"âœ—"})]},u)})}),l&&e.jsxs("div",{className:`mc-result ${v?"correct":"incorrect"}`,children:[e.jsx("div",{className:"mc-result-message",children:s(v?"multipleChoice.correct":"multipleChoice.incorrect")}),!v&&e.jsxs("div",{className:"mc-correct-answer",children:[s("multipleChoice.correctAnswerWas")," ",g.options[g.correctIndex]]}),e.jsxs("div",{className:"mc-reference",children:[s("multipleChoice.reference")," ",g.reference]})]})]}),e.jsx("div",{className:"mc-quiz-actions",children:l?e.jsx(z,{onClick:A,variant:"primary",className:"mc-action-button",children:a<n.length-1?s("multipleChoice.next"):s("multipleChoice.finish")}):e.jsx(z,{onClick:j,variant:"primary",disabled:d===null,className:"mc-action-button",children:s("completeQuiz.check")})})]}),e.jsx("div",{className:"mc-dots-overview",children:n.map((f,u)=>{const y=i[u];let q="pending";return y?q=y.correct?"correct":"incorrect":u===a&&(q="current"),e.jsx("div",{className:`mc-dot ${q}`},u)})})]})},je=({score:o,onRetry:s,onHome:r})=>{const{updateStats:n}=Y(),{t,translateBook:a,getScoreMessage:c}=Q();if(m.useEffect(()=>{o&&n(o)},[o,n]),!o)return e.jsxs("div",{className:"results-container",children:[e.jsx("p",{children:t("results.noResults")}),e.jsx(z,{onClick:r,children:t("results.goHome")})]});const{correct:d,total:h,percentage:l,selections:p,answers:i,questions:x,quizType:g}=o,S=c(l),N=me(l),j=g==="complete",A=g==="covenants";return e.jsx("div",{className:"results-container",children:e.jsxs("div",{className:"results-content",children:[e.jsx("header",{className:"results-header",children:e.jsx("h1",{className:"results-title",children:t("results.title")})}),e.jsxs(B,{className:"score-card",children:[e.jsxs("div",{className:"score-display",style:{borderColor:N},children:[e.jsxs("div",{className:"score-percentage",style:{color:N},children:[l,"%"]}),e.jsx("div",{className:"score-message",style:{color:N},children:S}),e.jsx("div",{className:"score-details",children:t("results.outOf",{correct:d,total:h})})]}),e.jsxs("div",{className:"score-breakdown",children:[e.jsxs("div",{className:"breakdown-item correct",children:[e.jsx("span",{className:"breakdown-icon",children:"âœ“"}),e.jsxs("span",{className:"breakdown-text",children:[d," ",t("results.correct")]})]}),e.jsxs("div",{className:"breakdown-item incorrect",children:[e.jsx("span",{className:"breakdown-icon",children:"âœ—"}),e.jsxs("span",{className:"breakdown-text",children:[h-d," ",t("results.incorrect")]})]})]})]}),e.jsxs(B,{className:"details-card",children:[e.jsx("h2",{className:"details-title",children:t("results.yourAnswers")}),e.jsx("div",{className:"answers-list",children:A?i==null?void 0:i.map((b,v)=>{var P,G;const f=x==null?void 0:x[v],u=b==null?void 0:b.correct,y=((P=f==null?void 0:f.options)==null?void 0:P[b==null?void 0:b.selectedIndex])||t("multipleChoice.skipped"),q=(G=f==null?void 0:f.options)==null?void 0:G[f==null?void 0:f.correctIndex];return e.jsxs("div",{className:`answer-item ${u?"correct":"incorrect"}`,children:[e.jsx("div",{className:"answer-position",children:v+1}),e.jsxs("div",{className:"answer-content",children:[e.jsx("div",{className:"answer-question",children:f==null?void 0:f.question}),e.jsxs("div",{className:"answer-your-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.yourAnswer")}),e.jsx("span",{className:"answer-book",children:y})]}),!u&&e.jsxs("div",{className:"answer-correct-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.correctAnswer")}),e.jsx("span",{className:"answer-book",children:q})]}),e.jsx("div",{className:"answer-reference",children:f==null?void 0:f.reference})]}),e.jsx("div",{className:"answer-status",children:u?e.jsx("span",{className:"status-icon correct",children:"âœ“"}):e.jsx("span",{className:"status-icon incorrect",children:"âœ—"})})]},v)}):j?i==null?void 0:i.map((b,v)=>{const f=C[v],u=b==null?void 0:b.correct,y=(b==null?void 0:b.input)||"-";return e.jsxs("div",{className:`answer-item ${u?"correct":"incorrect"}`,children:[e.jsx("div",{className:"answer-position",children:v+1}),e.jsxs("div",{className:"answer-content",children:[e.jsxs("div",{className:"answer-your-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.yourAnswer")}),e.jsx("span",{className:"answer-book",children:y})]}),!u&&e.jsxs("div",{className:"answer-correct-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.correctAnswer")}),e.jsx("span",{className:"answer-book",children:a(f)})]})]}),e.jsx("div",{className:"answer-status",children:u?e.jsx("span",{className:"status-icon correct",children:"âœ“"}):e.jsx("span",{className:"status-icon incorrect",children:"âœ—"})})]},v)}):p==null?void 0:p.map((b,v)=>{const f=C[v],u=b===f;return e.jsxs("div",{className:`answer-item ${u?"correct":"incorrect"}`,children:[e.jsx("div",{className:"answer-position",children:v+1}),e.jsxs("div",{className:"answer-content",children:[e.jsxs("div",{className:"answer-your-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.yourAnswer")}),e.jsx("span",{className:"answer-book",children:a(b)})]}),!u&&e.jsxs("div",{className:"answer-correct-choice",children:[e.jsx("span",{className:"answer-label",children:t("results.correctAnswer")}),e.jsx("span",{className:"answer-book",children:a(f)})]})]}),e.jsx("div",{className:"answer-status",children:u?e.jsx("span",{className:"status-icon correct",children:"âœ“"}):e.jsx("span",{className:"status-icon incorrect",children:"âœ—"})})]},v)})})]}),e.jsxs("div",{className:"results-actions",children:[e.jsx(z,{onClick:r,variant:"secondary",size:"large",children:t("results.home")}),e.jsx(z,{onClick:s,variant:"primary",size:"large",children:t("results.tryAgain")})]})]})})},ye=()=>{const{language:o,setLanguage:s,t:r}=Q();return e.jsxs("div",{className:"language-selector",children:[e.jsx("button",{className:`lang-button ${o==="en"?"active":""}`,onClick:()=>s("en"),title:r("language.en"),"aria-label":r("language.en"),children:"EN"}),e.jsx("button",{className:`lang-button ${o==="es"?"active":""}`,onClick:()=>s("es"),title:r("language.es"),"aria-label":r("language.es"),children:"ES"})]})};function we(){const[o,s]=m.useState("home"),[r,n]=m.useState(null),[t,a]=m.useState("order"),c=()=>{a("order"),s("quiz"),n(null)},d=()=>{a("complete"),s("completeQuiz"),n(null)},h=()=>{a("covenants"),s("covenantsQuiz"),n(null)},l=x=>{n({...x,quizType:x.quizType||t}),s("results")},p=()=>{s("home"),n(null)},i=()=>{t==="complete"?d():t==="covenants"?h():c()};return e.jsx(le,{children:e.jsx(he,{children:e.jsxs("div",{className:"app",children:[e.jsx("div",{className:"app-language-selector",children:e.jsx(ye,{})}),o==="home"&&e.jsx(de,{onStartOrder:c,onStartComplete:d,onStartCovenants:h}),o==="quiz"&&e.jsx(xe,{onComplete:l}),o==="completeQuiz"&&e.jsx(be,{onComplete:l}),o==="covenantsQuiz"&&e.jsx(Ne,{onComplete:l}),o==="results"&&e.jsx(je,{score:r,onRetry:i,onHome:p})]})})})}const Se="modulepreload",Ce=function(o){return"/ITIApp/"+o},W={},ze=function(s,r,n){let t=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));t=Promise.allSettled(r.map(h=>{if(h=Ce(h),h in W)return;W[h]=!0;const l=h.endsWith(".css"),p=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":Se,l||(i.as="script"),i.crossOrigin="",i.href=h,d&&i.setAttribute("nonce",d),document.head.appendChild(i),l)return new Promise((x,g)=>{i.addEventListener("load",x),i.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return t.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return s().catch(a)})};function ke(o={}){const{immediate:s=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:t,onRegisteredSW:a,onRegisterError:c}=o;let d,h;const l=async(i=!0)=>{await h};async function p(){if("serviceWorker"in navigator){if(d=await ze(async()=>{const{Workbox:i}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:i}},[]).then(({Workbox:i})=>new i("/ITIApp/sw.js",{scope:"/ITIApp/",type:"classic"})).catch(i=>{c==null||c(i)}),!d)return;d.addEventListener("activated",i=>{(i.isUpdate||i.isExternal)&&window.location.reload()}),d.addEventListener("installed",i=>{i.isUpdate||n==null||n()}),d.register({immediate:s}).then(i=>{a?a("/ITIApp/sw.js",i):t==null||t(i)}).catch(i=>{c==null||c(i)})}}return h=p(),l}const Ae=ke({onNeedRefresh(){confirm("New content available. Reload?")&&Ae(!0)},onOfflineReady(){console.log("App ready to work offline")}});D.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(we,{})}));
